/* ===============  FÄRDIG APP.CSS  =============== */

/* Färger & grund */
:root{
  --ink: #1f2937;            /* mörk text */
  --muted:#64748b;           /* sekundär text */
  --bg1:  #fdf2f8;           /* rosa-100 */
  --bg2:  #e9d5ff;           /* lila-200 */
  --bg3:  #dbeafe;           /* blå-100 */
  --card:#ffffff;            /* vit kortbakgrund */
  --ring:#c4b5fd;            /* lila ringar */
  --btn1:#f472b6;            /* rosa btn */
  --btn2:#a78bfa;            /* lila btn */
  --btnH:#8b5cf6;            /* hover */
  --line: rgba(0,0,0,.06);   /* tunna borders */
}

*{ box-sizing: border-box; }
html,body,#root{ height:100%; }

body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 700px at -10% -10%, var(--bg2) 0%, transparent 60%),
    radial-gradient(900px 600px  at 110% 10%, var(--bg3) 0%, transparent 60%),
    radial-gradient(900px 700px  at 50% 120%, var(--bg1) 0%, transparent 60%),
    #fafafa;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Wrapper */
.app{ max-width: 980px; margin: 0 auto; padding: 24px 18px 56px; }

/* Header / Brand */
header{
  display:flex; align-items:center; gap:14px;
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(6px);
  border:1px solid var(--line);
  border-radius: 16px;
  padding: 14px 16px;
  box-shadow: 0 10px 25px rgba(31,41,55,.08);
}
.brand{
  font-weight: 900;
  letter-spacing:.3px;
  font-size: clamp(26px,3.8vw,40px);
  background: linear-gradient(90deg, var(--btn2), #60a5fa);
  -webkit-background-clip: text; background-clip:text;
  color: transparent;
}
header .right{ margin-left:auto; display:flex; align-items:center; gap:12px; }

/* Nav */
nav{
  display:flex; gap:16px; align-items:center;
  margin: 14px 2px 22px;
}
nav a{
  color:#2563eb;
  text-decoration: none;
  font-weight: 700;
}
nav a:hover{ color:#7c3aed; }

/* Kort / sektion */
.container{
  background: var(--card);
  border:1px solid var(--line);
  border-radius: 16px;
  padding: 22px;
  max-width: 760px;
  margin: 0 auto;
}

/* Rubriker */
h1{ font-size: clamp(26px,3.5vw,38px); margin: 0 0 10px; }
h2{ font-size: clamp(20px,2.8vw,26px); margin: 0 0 8px; color: var(--muted); }

/* Knappar */
button,.btn{
  appearance: none;
  border:1px solid var(--line);
  border-radius: 12px;
  padding: 12px 16px;
  font-weight: 800;
  cursor: pointer;
  color: white;
  background: linear-gradient(90deg, var(--btn1), var(--btn2));
  box-shadow: 0 8px 20px rgba(167,139,250,.25);
  transition: transform .15s, filter .15s;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
button:hover,.btn:hover{ filter: brightness(1.05); transform: translateY(-1px); }
button.secondary{
  background: white; color: var(--ink);
  border-color: var(--ring);
}

/* === FORMULÄR === */
form.form{
  display:flex; flex-direction:column; gap:14px;
  max-width: 420px; width: 100%;
  margin: 0 auto; text-align:left;
}
.form .field{ display:flex; flex-direction:column; gap:6px; }
label{ font-weight: 700; color: var(--ink); }
input{
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background:#fff;
  color: var(--ink);
  font-size: 16px;
  box-shadow: inset 0 1px 0 rgba(0,0,0,.02);
}
input:focus{
  outline: none;
  border-color: var(--ring);
  box-shadow: 0 0 0 4px rgba(196,181,253,.25);
}

/* === AUTH-KNAPPAR (Registrera överst, Logga in direkt under) === */
form.form .actions{
  display:flex;
  flex-direction: column !important; /* tvinga vertikalt */
  gap:12px;
  margin-top:12px;
  align-items: stretch; /* samma bredd */
}
form.form .actions button{
  width:100% !important;   /* full bredd */
  max-width:100%;
  justify-content:center;
}

/* (valfritt) kontrollera ordning om du har klassnamn */
form.form .actions .btn-register{ order:1; }
form.form .actions .btn-login{ order:2; }

/* Fallback om någon råkar sätta .row */
form.form .actions.row{ flex-direction: column !important; }

/* Avatar-väljare */
.avatar-grid{
  display:flex; flex-wrap: wrap; gap:12px; justify-content:center; margin-top:6px;
}
.avatar-grid img{
  width:64px; height:64px; border-radius:50%;
  background:#fff; border:2px solid var(--line); cursor:pointer;
  transition: transform .12s, box-shadow .12s, border-color .12s;
}
.avatar-grid img:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(31,41,55,.12) }
.avatar-grid img.selected{ border-color: var(--ring); box-shadow: 0 0 0 3px rgba(196,181,253,.45) }

/* UserInfo */
.userinfo{ display:flex; align-items:center; gap:10px; }
.userinfo .avatar{ width:32px; height:32px; border-radius:50%; border:2px solid var(--ring); }

/* === CHATT === */
.chat{ max-width: 740px; margin: 0 auto; }
.chat h1{ margin-bottom: 8px }

/* listan med meddelanden */
.chat-list{
  display:flex;
  flex-direction: column;
  align-items: flex-start; /* standard: vänster */
  gap:12px;
  margin:12px 0 20px;
}

/* varje meddelande (andra) */
.chat-item{
  max-width:70%;
  background:#f3f4f6;     /* neutral ljusgrå */
  color:#111827;
  padding:10px 12px;
  border-radius:14px 14px 14px 6px; /* vänster-svans */
  position:relative;
  margin-left:0;
  margin-right:auto;       /* håll vänster */
  box-shadow:0 1px 6px rgba(0,0,0,0.06);
}

/* MINA meddelanden → till höger */
.chat-item.me{
  align-self:flex-end;     /* tryck bubblan till höger */
  margin-left:auto;
  margin-right:0 !important; /* undvik mitten */
  background:#ede9fe;        /* lila-100 */
  color:#111827;
  border-radius:14px 14px 6px 14px; /* höger-svans */
  box-shadow:0 1px 6px rgba(0,0,0,0.06);
}

/* meta / tid / namn */
.chat-item .meta{
  font-size:12px;
  opacity:.7;
  margin-bottom:4px;
  color:#6b7280;
}

/* eventuellt avatar i bubblan */
.chat-item img{
  width:32px; height:32px; border-radius:50%;
  object-fit:cover;
  margin-right:8px;
}

/* radera-knapp i bubblan */
.delete-btn{
  position:absolute;
  top:8px; right:8px;
  background:transparent;
  border:none;
  color:#ef4444;
  font-size:16px;
  cursor:pointer;
  padding:4px;
  border-radius:50%;
  transition: background .2s ease, color .2s ease;
}
.delete-btn:hover{
  background:#ef4444;
  color:white;
}

/* inputområdet i chatten */
.message-input{
  display:grid;
  grid-template-columns: 1fr auto;
  gap:10px;
}
.message-input input{
  padding:12px 14px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  color:var(--ink);
  font-size:16px;
}
.message-input button{ padding:12px 18px; }

/* Hjälpklasser */
.center{text-align:center}
.mt-8{margin-top:8px} .mt-12{margin-top:12px} .mt-16{margin-top:16px} .mt-24{margin-top:24px}
.hidden{ display:none }

/* === HÅRDSÄKER FIX: AUTH-KNAPPAR STAPLAS OCH FYLLER BREDD === */

/* 1) Se till att själva actions-containern beter sig */
form.form .actions {
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important;
  margin-top: 12px;
  align-items: stretch !important;   /* barn fyller bredd */
  justify-content: flex-start !important;
  width: 100% !important;
  text-align: initial !important;     /* neutralisera text-align på förälder */
}

/* 2) Allt inuti actions blir block och 100% bredd */
form.form .actions > * {
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
  margin: 0 !important;              /* ta bort ev. auto-margins */
  align-self: stretch !important;
}

/* 3) Gäller både riktiga <button> och ev. <a class="btn"> */
form.form .actions button,
form.form .actions .btn,
form.form .actions a.btn {
  display: block !important;
  width: 100% !important;
  justify-content: center !important;
}

/* 4) Om någon råkat lägga "row" eller grid – tvinga kolumn */
form.form .actions.row,
form.form .actions[style*="grid"],
form.form .actions[style*="inline"] {
  display: flex !important;
  flex-direction: column !important;
}

/* 5) Ordningen: Registrera överst, Logga in under (om klasser finns) */
form.form .actions .btn-register { order: 1; }
form.form .actions .btn-login    { order: 2; }
